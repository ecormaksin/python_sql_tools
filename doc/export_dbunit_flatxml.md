# 接続先のデータベースから [DBUnit](https://dbunit.sourceforge.net/dbunit/) 用のFlatXMLファイルを出力する処理（`export_dbunit_flatxml` モジュール）

## 実行手順

### 1. 各種ファイルの準備

- 設定ファイル（「[DB接続用設定ファイル](../README.md#123-db接続用設定ファイル)」参照）

### 2. 出力元テーブル レコードの準備

XMLファイルを出力したいテーブルのレコードを登録しておきます。

### 3. コマンドの実行

`python -m export_dbunit_flatxml --help` で実行時のパラメーターを確認できます。

以下は日本語で表にまとめたものです。

| ショート | ロング           | 必須 | 説明                                                                                                                                      |
|------|---------------|:--:|-----------------------------------------------------------------------------------------------------------------------------------------|
| -C   | --db-config   | －  | データベース接続用の設定ファイル（.json）のパスを指定します。<br/>未指定の場合、プロジェクト ルートの 'db_config.json' を検索します。                                                       |
| -T   | --tables      | －  | XML作成対象のテーブル名をカンマ区切りで指定します。<br/>未指定の場合は接続先データベースのすべてのテーブルを対象にします。                                                                       |
| -d   | --destination | －  | XMLファイルの出力先フォルダーのパスを指定します。<br/>未指定の場合は一時フォルダ（`tempfile.gettempdir()`）の`python_sql_tools/dbunit_flatxml/<実行日時(%Y%m%d-%H%M%S-%f)>`に出力します。 |
